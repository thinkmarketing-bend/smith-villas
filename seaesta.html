<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Sea Esta Villa | Smith Villas</title>
    <link rel="icon" type="image/jpeg" href="assets/images/sv-logo-clear.jpg" />
    <link rel="apple-touch-icon" href="assets/images/sv-logo-clear.jpg" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600&family=Source+Sans+3:wght@300;400;600&display=swap"
      rel="stylesheet"
    />
  </head>
  <body class="villa-story">
    <header class="site-header">
      <nav class="nav" aria-label="Primary">
        <a class="brand" href="index.html">
          <img src="assets/images/smith-villas-clear.png" alt="Smith Villas" />
        </a>
        <ul class="nav-links">
          <li class="dropdown">
            <button class="dropdown-toggle" aria-haspopup="true" aria-expanded="false">
              The Villas
            </button>
            <ul class="dropdown-menu" aria-label="Villa links">
              <li><a href="sandpebbles.html">Sand Pebbles</a></li>
              <li><a href="seaesta.html">Sea Esta</a></li>
            </ul>
          </li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
      </nav>
    </header>

    <main class="photo-story" aria-label="Sea Esta photo tour">
      <h1 class="visually-hidden">Sea Esta Villa</h1>
      <section class="villa-page-header" aria-label="Sea Esta">
        <div class="villa-page-header__inner">
          <img
            class="title-mark title-mark--header"
            src="assets/images/sv-logo-clear.png"
            alt=""
            aria-hidden="true"
          />
          <h2>Sea Esta</h2>
          <img
            class="title-mark title-mark--header"
            src="assets/images/sv-logo-clear.png"
            alt=""
            aria-hidden="true"
          />
        </div>
      </section>
      <section class="photo-stack" aria-label="Signature views">
        <div class="photo-panel photo-panel--full">
          <img
            class="lightbox-trigger"
            src="assets/images/sea-esta1.jpg"
            alt="Sea Esta Villa view."
          />
        </div>
        <div class="photo-panel photo-panel--full">
          <img
            class="lightbox-trigger"
            src="assets/images/sea-esta20.jpg"
            alt="Sea Esta Villa view."
          />
        </div>
        <div class="photo-stack__overlay" aria-hidden="true">
          <img class="lightbox-trigger" src="assets/images/sea-esta3.jpg" alt="" />
          <img class="lightbox-trigger" src="assets/images/sea-esta4.jpg" alt="" />
        </div>
      </section>
      <section class="photo-stack" aria-label="Pool and dining views">
        <div class="photo-panel photo-panel--full">
          <img
            class="lightbox-trigger"
            src="assets/images/sea-esta22.jpg"
            alt="Sea Esta Villa view."
          />
        </div>
        <div class="photo-panel photo-panel--full">
          <img
            class="lightbox-trigger"
            src="assets/images/sea-esta18.jpg"
            alt="Sea Esta Villa view."
          />
        </div>
        <div class="photo-stack__overlay photo-stack__overlay--top" aria-hidden="true">
          <img class="lightbox-trigger" src="assets/images/sea-esta5.jpg" alt="" />
          <img class="lightbox-trigger" src="assets/images/sea-esta8.jpg" alt="" />
        </div>
        <div class="photo-stack__overlay" aria-hidden="true">
          <img class="lightbox-trigger" src="assets/images/sea-esta19.jpg" alt="" />
          <img class="lightbox-trigger" src="assets/images/sea-esta11.jpg" alt="" />
        </div>
        <div class="photo-stack__overlay photo-stack__overlay--bottom" aria-hidden="true">
          <img class="lightbox-trigger" src="assets/images/sea-esta9.jpg" alt="" />
          <img class="lightbox-trigger" src="assets/images/sea-esta21.jpg" alt="" />
        </div>
      </section>
      <section class="photo-panel photo-panel--full">
        <img
          class="lightbox-trigger"
          src="assets/images/sea-esta7.jpg"
          alt="Sea Esta Villa view."
        />
      </section>
      <section class="villa-details" aria-labelledby="details-title">
        <div class="villa-details__header">
          <h2 id="details-title">Villa Details</h2>
          <p>Essentials, amenities, and space planning for Sea Esta.</p>
        </div>
        <div class="villa-details__summary">
          <div class="villa-details__facts">
            <div class="villa-details__fact">4 bedrooms</div>
            <div class="villa-details__fact">4+ bathrooms</div>
            <div class="villa-details__fact">Sleeps 10</div>
            <div class="villa-details__fact">5,500 sq ft</div>
          </div>
          <div class="villa-details__amenities">
            <h3>Popular amenities</h3>
            <ul>
              <li>Ocean view</li>
              <li>Pool</li>
              <li>Kitchen</li>
              <li>Free WiFi</li>
              <li>Air conditioning</li>
              <li>Outdoor space</li>
            </ul>
          </div>
        </div>
        <div class="villa-details__divider" aria-hidden="true"></div>
        <section class="villa-details__section" aria-labelledby="rooms-title">
          <div class="villa-details__section-header">
            <h3 id="rooms-title">Rooms & beds</h3>
            <p class="villa-details__meta">4 bedrooms (sleeps 10)</p>
          </div>
          <div class="villa-details__items villa-details__items--even">
            <div class="villa-details__item">
              <h4>Master suite 1</h4>
              <p>1 King bed</p>
            </div>
            <div class="villa-details__item">
              <h4>Master suite 2</h4>
              <p>1 King bed</p>
            </div>
            <div class="villa-details__item">
              <h4>Secondary 1</h4>
              <p>1 King bed</p>
            </div>
            <div class="villa-details__item">
              <h4>Secondary 2</h4>
              <p>2 Queen beds</p>
            </div>
          </div>
        </section>
        <div class="villa-details__divider" aria-hidden="true"></div>
        <section class="villa-details__section" aria-labelledby="bath-title">
          <div class="villa-details__section-header">
            <h3 id="bath-title">Bathrooms</h3>
            <p class="villa-details__meta">4 bathrooms, 1 half bathroom</p>
          </div>
          <div class="villa-details__items">
            <div class="villa-details__item">
              <h4>Bathroom 1</h4>
              <p>Soap, towels provided, bathtub, toilet, shower only, shampoo, hair dryer</p>
            </div>
            <div class="villa-details__item">
              <h4>Bathroom 2</h4>
              <p>Soap, towels provided, toilet, shower only, shampoo, hair dryer</p>
            </div>
            <div class="villa-details__item">
              <h4>Bathroom 3</h4>
              <p>Soap, towels provided, toilet, shower only, shampoo, hair dryer</p>
            </div>
            <div class="villa-details__item">
              <h4>Bathroom 4</h4>
              <p>Soap, towels provided, toilet, shower only, shampoo, hair dryer</p>
            </div>
            <div class="villa-details__item">
              <h4>Powder Room</h4>
              <p>Towels provided, toilet</p>
            </div>
          </div>
        </section>
        <div class="villa-details__divider" aria-hidden="true"></div>
        <section class="villa-details__section" aria-labelledby="spaces-title">
          <div class="villa-details__section-header">
            <h3 id="spaces-title">Spaces</h3>
          </div>
          <ul class="villa-details__chips">
            <li>Deck or patio</li>
            <li>Porch or lanai</li>
            <li>Kitchen</li>
            <li>Separate dining area</li>
            <li>Outdoor play area</li>
            <li>Garden</li>
            <li>Dining area</li>
          </ul>
        </section>
      </section>
      <section class="calendar-placeholder" aria-label="Availability calendar">
        <div class="calendar-placeholder__inner">
          <h2>Availability Calendar</h2>
          <p>Calendar integration coming soon.</p>
        </div>
      </section>
    </main>

    <div class="lightbox" id="lightbox" aria-hidden="true" role="dialog" aria-label="Photo gallery">
      <button class="lightbox__close" type="button" aria-label="Close gallery">×</button>
      <button class="lightbox__nav lightbox__nav--prev" type="button" aria-label="Previous image">
        ‹
      </button>
      <figure class="lightbox__frame">
        <img class="lightbox__image" src="" alt="" />
      </figure>
      <button class="lightbox__nav lightbox__nav--next" type="button" aria-label="Next image">
        ›
      </button>
    </div>

    <footer class="site-footer">
      <div class="footer-inner">
        <span class="footer-logo">
          <img src="assets/images/sv-logo-clear.png" alt="Smith Villas" />
        </span>
        <span>Private Villa Collection</span>
        <button class="button is-disabled" type="button" aria-disabled="true">Message us</button>
      </div>
    </footer>

    <script>
      (() => {
        const triggers = Array.from(document.querySelectorAll('.lightbox-trigger'));
        const lightbox = document.getElementById('lightbox');
        const image = lightbox.querySelector('.lightbox__image');
        const closeButton = lightbox.querySelector('.lightbox__close');
        const prevButton = lightbox.querySelector('.lightbox__nav--prev');
        const nextButton = lightbox.querySelector('.lightbox__nav--next');
        let currentIndex = 0;
        let touchStartX = 0;

        const items = triggers.map((img) => ({
          src: img.getAttribute('src'),
          alt: img.getAttribute('alt') || 'Sea Esta photo',
        }));

        const openLightbox = (index) => {
          currentIndex = index;
          const item = items[currentIndex];
          image.src = item.src;
          image.alt = item.alt;
          lightbox.classList.add('is-open');
          lightbox.setAttribute('aria-hidden', 'false');
          document.body.classList.add('lightbox-open');
        };

        const closeLightbox = () => {
          lightbox.classList.remove('is-open');
          lightbox.setAttribute('aria-hidden', 'true');
          document.body.classList.remove('lightbox-open');
        };

        const showNext = () => {
          const nextIndex = (currentIndex + 1) % items.length;
          openLightbox(nextIndex);
        };

        const showPrev = () => {
          const prevIndex = (currentIndex - 1 + items.length) % items.length;
          openLightbox(prevIndex);
        };

        triggers.forEach((img, index) => {
          img.addEventListener('click', () => openLightbox(index));
        });

        closeButton.addEventListener('click', closeLightbox);
        prevButton.addEventListener('click', showPrev);
        nextButton.addEventListener('click', showNext);

        lightbox.addEventListener('click', (event) => {
          if (event.target === lightbox) {
            closeLightbox();
          }
        });

        lightbox.addEventListener('touchstart', (event) => {
          touchStartX = event.changedTouches[0].clientX;
        });

        lightbox.addEventListener('touchend', (event) => {
          const touchEndX = event.changedTouches[0].clientX;
          const deltaX = touchStartX - touchEndX;
          if (Math.abs(deltaX) > 50) {
            if (deltaX > 0) {
              showNext();
            } else {
              showPrev();
            }
          }
        });

        document.addEventListener('keydown', (event) => {
          if (!lightbox.classList.contains('is-open')) {
            return;
          }
          if (event.key === 'Escape') {
            closeLightbox();
          }
          if (event.key === 'ArrowRight') {
            showNext();
          }
          if (event.key === 'ArrowLeft') {
            showPrev();
          }
        });
      })();
    </script>
  </body>
</html>
